# https://github.com/neckbosov/fl_2020_spbu_spr

Программы:

```
prog1 = "fun f(x) {ans=1; while (x > 1) {ans=ans*x; x=x-1;} return ans;} read(x); write(f(x));"

Parsing succeeded!
        Result:
        f("x") =
        |_ans := 1
        |_while (x > 1)
        |_do
        |_|_ans := (ans * x)
        |_|_x := (x - 1)
        
        |_return 
        ans
        
        read x
        write f(x)
        Suffix:	InputStream {stream = "", curPos = Position {line = 0, col = 85}

> parseAndEvalProg prog1 [4]
        
Just (Conf {subst = fromList [("x",4)], input = [], output = [24], defs = ...})
```

```
prog2 = "fun f(x) {ans=1; t0=1; while(x>1) {tk = ans; ans = t0+ans; t0 = tk; x = x-1;} return ans;} read(x); write(f(x));"

Parsing succeeded!
        Result:
        f("x") =
        |_ans := 1
        |_t0 := 1
        |_while (x > 1)
        |_do
        |_|_tk := ans
        |_|_ans := (t0 + ans)
        |_|_t0 := tk
        |_|_x := (x - 1)
        
        |_return 
        ans
        
        read x
        write f(x)
        Suffix:	InputStream {stream = "", curPos = Position {line = 0, col = 112}
        
> parseAndEvalProg prog2 [5]

Just (Conf {subst = fromList [("x",5)], input = [], output = [8], defs = ...})
```

```
prog3 = "fun f(x) {ans=0; while (x > 4) {ans=ans+1; x=x-5;} return ans;} read(x); write(f(x));"

Parsing succeeded!
        Result:
        f("x") =
        |_ans := 0
        |_while (x > 4)
        |_do
        |_|_ans := (ans + 1)
        |_|_x := (x - 5)
        
        |_return 
        ans
        
        read x
        write f(x)
        Suffix:	InputStream {stream = "", curPos = Position {line = 0, col = 85}
        
> parseAndEvalProg prog3 [10]

Just (Conf {subst = fromList [("x",10)], input = [], output = [2], defs = ...})
```

# https://github.com/ilyavoronin/fl_2020_spbu_spr/
```
prog1 = "!f(x) {ans=1; while (x > 1) {ans=ans*x; x=x-1;} return! ans;} input(x); print(?f(x));"

Parsing succeeded!
        Result:
        f("x") =
        |_ans := 1
        |_while (x > 1)
        |_do
        |_|_ans := (ans * x)
        |_|_x := (x - 1)
        
        |_return 
        ans
        
        read x
        write f(x)
        Suffix:	InputStream {stream = "", curPos = Position {line = 0, col = 85}
        
> parseAndEvalProg prog1 [4]

Just (Conf {subst = fromList [("x",4)], input = [], output = [24], defs = ...})
```

```
prog2 = "!f(x) {ans=1; t0=1; while(x>1) {tk = ans; ans = t0+ans; t0 = tk; x = x-1;} return! ans;} input(x); print(?f(x));"

Parsing succeeded!
        Result:
        f("x") =
        |_ans := 1
        |_t0 := 1
        |_while (x > 1)
        |_do
        |_|_tk := ans
        |_|_ans := (t0 + ans)
        |_|_t0 := tk
        |_|_x := (x - 1)
        
        |_return 
        ans
        
        read x
        write f(x)
        Suffix:	InputStream {stream = "", curPos = Position {line = 0, col = 112}
        
> parseAndEvalProg prog2 [5]

Just (Conf {subst = fromList [("x",5)], input = [], output = [8], defs = ...})
```

```
prog3 = "!f(x) {ans=0; while (x > 4) {ans=ans+1; x=x-5;} return! ans;} input(x); print(?f(x));"

Parsing succeeded!
        Result:
        f("x") =
        |_ans := 0
        |_while (x > 4)
        |_do
        |_|_ans := (ans + 1)
        |_|_x := (x - 5)
        
        |_return 
        ans
        
        read x
        write f(x)
        Suffix:	InputStream {stream = "", curPos = Position {line = 0, col = 85}
        
> parseAndEvalProg prog3 [10]

Just (Conf {subst = fromList [("x",10)], input = [], output = [2], defs = ...})
```
